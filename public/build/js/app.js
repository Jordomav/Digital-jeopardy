!function(){"use strict";angular.module("jeopardyApp",["ngTouch"])}(),function(){"use strict";angular.module("jeopardyApp").controller("adminController",function(){var e=this;e.questionType=null,e.setQuestionType=function(t){e.questionType=t},e.getQuestionType=function(t){return e.questionType?e.questionType:(t&&(console.log(t),t=JSON.parse(t),_.has(t,"question")?e.questionType="text":_.has(t,"image")&&(e.questionType="image")),"text")}})}(),function(){"use strict";angular.module("jeopardyApp").controller("buzzerController",["$scope","$http",function(e,t){var n=this;n.allPlayersWhoBuzzed=[],n.playerWhoBuzzed=null,n.thisPlayer=null;var o=!0;n.pusher=new Pusher("4792c6294d140acf74ba"),n.pusherChannel=n.pusher.subscribe("buzzer-channel"),n.pusherChannel.bind("App\\Events\\PlayerHitBuzzer",function(t){o=!1,n.allPlayersWhoBuzzed.push(t.user),n.playerWhoBuzzed=n.allPlayersWhoBuzzed[0],e.$apply()}),n.buttonDisabled=function(e){return n.thisPlayer=JSON.parse(e),o?void 0:n.allPlayersWhoBuzzed!==n.thisPlayer},n.broadcastToAllPlayersInGame=function(){t.get("buzz")},n.enabledness=function(e){return n.buttonDisabled(e)?"buzzer-disabled":void 0}}])}(),function(){"use strict";angular.module("jeopardyApp").controller("jeopardyController",["$http","Jeopardy",function(e,t){function n(){t.init().then(function(){a.gameData=t.gameData,o()})}function o(){_.forEach(a.gameData.categories,function(e){e.questions=[];var t=100,n=1;_.forEach(a.gameData.questions,function(o){o.category_id===e._id&&(o.money=t*n,e.questions.push(o),n++)}),a.categories.push(e)}),console.log(a.categories)}var a=this;a.testing="hi hi hi",a.gameData=[],a.categories=[],n(),a.selectQuestion=function(e){a.selectedQuestion=e,t.selectQuestion(e)},a.toggleShowAnswer=function(){a.selectedQuestion.showAnswer=!a.selectedQuestion.showAnswer},a.returnToGameboard=function(){t.returnToGameboard()},a.buttonClick=function(){console.log("Hello")}}])}(),function(){"use strict";angular.module("jeopardyApp").service("Jeopardy",["$http",function(e){function t(){return e.get("get-categories")}var n=this;n.gameData=[],n.init=function(){return t().then(function(e){n.gameData=e.data},function(e){alert("There was an error retrieving game data."),console.log(e)})},n.selectQuestion=function(e){e.selected=!0,Custombox.open({target:"#modal",effect:"push"})},n.returnToGameboard=function(){Custombox.close()}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImplb3BhcmR5LmFwcC5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJidXp6ZXIvYnV6emVyLmNvbnRyb2xsZXIuanMiLCJqZW9wYXJkeS9qZW9wYXJkeS5jb250cm9sbGVyLmpzIiwiamVvcGFyZHkvamVvcGFyZHkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsInZtIiwidGhpcyIsInF1ZXN0aW9uVHlwZSIsInNldFF1ZXN0aW9uVHlwZSIsInR5cGUiLCJnZXRRdWVzdGlvblR5cGUiLCJxdWVzdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwicGFyc2UiLCJfIiwiaGFzIiwiJHNjb3BlIiwiJGh0dHAiLCJhbGxQbGF5ZXJzV2hvQnV6emVkIiwicGxheWVyV2hvQnV6emVkIiwidGhpc1BsYXllciIsInJlc2V0QWxsQnV6emVycyIsInB1c2hlciIsIlB1c2hlciIsInB1c2hlckNoYW5uZWwiLCJzdWJzY3JpYmUiLCJiaW5kIiwiYnV6ekV2ZW50IiwicHVzaCIsInVzZXIiLCIkYXBwbHkiLCJidXR0b25EaXNhYmxlZCIsImN1cnJlbnRVc2VyIiwiYnJvYWRjYXN0VG9BbGxQbGF5ZXJzSW5HYW1lIiwiZ2V0IiwiZW5hYmxlZG5lc3MiLCJKZW9wYXJkeSIsInJlbmRlckdhbWVib2FyZCIsImluaXQiLCJ0aGVuIiwiZ2FtZURhdGEiLCJwb3B1bGF0ZUNhdGVnb3JpZXMiLCJmb3JFYWNoIiwiY2F0ZWdvcmllcyIsImNhdGVnb3J5IiwicXVlc3Rpb25zIiwibW9uZXkiLCJpIiwiY2F0ZWdvcnlfaWQiLCJfaWQiLCJ0ZXN0aW5nIiwic2VsZWN0UXVlc3Rpb24iLCJzZWxlY3RlZFF1ZXN0aW9uIiwidG9nZ2xlU2hvd0Fuc3dlciIsInNob3dBbnN3ZXIiLCJyZXR1cm5Ub0dhbWVib2FyZCIsImJ1dHRvbkNsaWNrIiwic2VydmljZSIsImdldEdhbWVEYXRhIiwicmVzIiwiZGF0YSIsImVyciIsImFsZXJ0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LEtBQ0FuQixLQUFBLFNBQUFvQixHQUNBeEQsRUFBQXFDLFNBQUFtQixFQUFBQyxNQUVBLFNBQUFDLEdBQ0FDLE1BQUEsNENBQ0FwRCxRQUFBQyxJQUFBa0QsTUFTQTFELEVBQUFnRCxlQUFBLFNBQUExQyxHQUNBQSxFQUFBc0QsVUFBQSxFQUVBQyxVQUFBQyxNQUNBQyxPQUFBLFNBQ0FDLE9BQUEsVUFJQWhFLEVBQUFvRCxrQkFBQSxXQUNBUyxVQUFBSSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKVxyXG57XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2plb3BhcmR5QXBwJywgWyduZ1RvdWNoJ10pO1xyXG5cclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdhZG1pbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHZtLnNldFF1ZXN0aW9uVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5xdWVzdGlvblR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0uZ2V0UXVlc3Rpb25UeXBlID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZtLnF1ZXN0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS5xdWVzdGlvblR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uID0gSlNPTi5wYXJzZShxdWVzdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaGFzKHF1ZXN0aW9uLCAncXVlc3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5xdWVzdGlvblR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfLmhhcyhxdWVzdGlvbiwgJ2ltYWdlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gJ2ltYWdlJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0JztcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxufSgpKTtcclxuIiwiXHJcbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdqZW9wYXJkeUFwcCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2J1enplckNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgdm0uYWxsUGxheWVyc1dob0J1enplZCA9IFtdO1xyXG4gICAgICAgICAgICB2bS5wbGF5ZXJXaG9CdXp6ZWQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdm0udGhpc1BsYXllciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiBtYWtlIGhvc3QgY29udHJvbGxlciB0aGF0IHJlc2V0cyBidXR0b24gZm9yIGFsbCBwbGF5ZXJzICh3aGVuIHBsYXllciBhbnN3ZXJzIGluY29ycmVjdGx5LCBhbmQgZXZlcnlcclxuICAgICAgICAgICAgLy8gKHRvZG8gY29udC4uLikgdGltZSBhIG5ldyBxdWVzdGlvbiBpcyBzZWxlY3RlZC5cclxuICAgICAgICAgICAgdmFyIHJlc2V0QWxsQnV6emVycyA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2bS5wdXNoZXIgPSBuZXcgUHVzaGVyKCc0NzkyYzYyOTRkMTQwYWNmNzRiYScpO1xyXG4gICAgICAgICAgICB2bS5wdXNoZXJDaGFubmVsID0gdm0ucHVzaGVyLnN1YnNjcmliZSgnYnV6emVyLWNoYW5uZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZtLnB1c2hlckNoYW5uZWwuYmluZCgnQXBwXFxcXEV2ZW50c1xcXFxQbGF5ZXJIaXRCdXp6ZXInLCBmdW5jdGlvbiAoYnV6ekV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzZXRBbGxCdXp6ZXJzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdm0uYWxsUGxheWVyc1dob0J1enplZC5wdXNoKGJ1enpFdmVudC51c2VyKTtcclxuICAgICAgICAgICAgICAgIHZtLnBsYXllcldob0J1enplZCA9IHZtLmFsbFBsYXllcnNXaG9CdXp6ZWRbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZtLmJ1dHRvbkRpc2FibGVkID0gZnVuY3Rpb24gKGN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgICAgICAgICB2bS50aGlzUGxheWVyID0gSlNPTi5wYXJzZShjdXJyZW50VXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhcmVzZXRBbGxCdXp6ZXJzICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS5hbGxQbGF5ZXJzV2hvQnV6emVkICE9PSB2bS50aGlzUGxheWVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0uYnJvYWRjYXN0VG9BbGxQbGF5ZXJzSW5HYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCdidXp6Jyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5lbmFibGVkbmVzcyA9IGZ1bmN0aW9uIChjdXJyZW50VXNlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZtLmJ1dHRvbkRpc2FibGVkKGN1cnJlbnRVc2VyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYnV6emVyLWRpc2FibGVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxufSgpKTtcclxuIiwiXHJcbihmdW5jdGlvbigpXHJcbntcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdqZW9wYXJkeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkaHR0cCwgSmVvcGFyZHkpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZtLnRlc3RpbmcgPSAnaGkgaGkgaGknO1xyXG5cclxuICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBbXTtcclxuICAgICAgICAgICAgdm0uY2F0ZWdvcmllcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgcmVuZGVyR2FtZWJvYXJkKCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJHYW1lYm9hcmQoKSB7XHJcbiAgICAgICAgICAgICAgICBKZW9wYXJkeS5pbml0KClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5nYW1lRGF0YSA9IEplb3BhcmR5LmdhbWVEYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZUNhdGVnb3JpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTmVzdCBRdWVzdGlvbnMgaW5zaWRlIG9mIHRoZWlyIGFzc29jaWF0ZWQgY2F0ZWdvcmllcyBzbyB0aGF0IHdlIGhhdmUgYSBtb3JlIGludGVsbGlnaWJsZSBvYmplY3QgdG9cclxuICAgICAgICAgICAgLy8gdXNlIGluIG91ciB2aWV3LlxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwb3B1bGF0ZUNhdGVnb3JpZXMoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKCB2bS5nYW1lRGF0YS5jYXRlZ29yaWVzLCBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkucXVlc3Rpb25zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbmV5ID0gMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHZtLmdhbWVEYXRhLnF1ZXN0aW9ucywgZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb24uY2F0ZWdvcnlfaWQgPT09IGNhdGVnb3J5Ll9pZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQXNzaWduIG1vbmV0YXJ5IHZhbHVlIHRvIGVhY2ggcXVlc3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uLm1vbmV5ID0gKG1vbmV5ICogaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkucXVlc3Rpb25zLnB1c2gocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZtLmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmNhdGVnb3JpZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2bS5zZWxlY3RRdWVzdGlvbiA9IGZ1bmN0aW9uIChxdWVzdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdm0uc2VsZWN0ZWRRdWVzdGlvbiA9IHF1ZXN0aW9uO1xyXG4gICAgICAgICAgICAgICAgSmVvcGFyZHkuc2VsZWN0UXVlc3Rpb24ocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0udG9nZ2xlU2hvd0Fuc3dlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZtLnNlbGVjdGVkUXVlc3Rpb24uc2hvd0Fuc3dlciA9ICEodm0uc2VsZWN0ZWRRdWVzdGlvbi5zaG93QW5zd2VyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJldHVyblRvR2FtZWJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgSmVvcGFyZHkucmV0dXJuVG9HYW1lYm9hcmQoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLmJ1dHRvbkNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0hlbGxvJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG59KCkpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE5laWwgU3RyYWluIG9uIDQvMjgvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdKZW9wYXJkeScsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gW107XHJcblxyXG4gICAgICAgICAgICB2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEdhbWVEYXRhKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3IgcmV0cmlldmluZyBnYW1lIGRhdGEuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEdhbWVEYXRhKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnZ2V0LWNhdGVnb3JpZXMnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZtLnNlbGVjdFF1ZXN0aW9uID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBxdWVzdGlvbi5zZWxlY3RlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgQ3VzdG9tYm94Lm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJyNtb2RhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAncHVzaCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0ucmV0dXJuVG9HYW1lYm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBDdXN0b21ib3guY2xvc2UoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
