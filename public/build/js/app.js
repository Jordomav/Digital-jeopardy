!function(){"use strict";angular.module("jeopardyApp",["ngTouch"])}(),function(){"use strict";angular.module("jeopardyApp").controller("adminController",function(){var e=this;e.questionType=null,e.setQuestionType=function(n){e.questionType=n},e.getQuestionType=function(n){return e.questionType?e.questionType:(n&&(console.log(n),n=JSON.parse(n),_.has(n,"question")?e.questionType="text":_.has(n,"image")&&(e.questionType="image")),"text")}})}(),function(){"use strict";angular.module("jeopardyApp").controller("buzzerController",["$scope","$http","$timeout",function(e,n,o){var t=this;t.allPlayersWhoBuzzed=[],t.firstPlayerWhoBuzzed=null,t.pusher=new Pusher("4792c6294d140acf74ba"),t.pusherChannel=t.pusher.subscribe("buzzer-channel"),t.pusherChannel.bind("App\\Events\\PlayerHitBuzzer",function(n){t.allPlayersWhoBuzzed.push(n.user),t.disableBuzzer(),e.$apply()}),Pusher.log=function(e){window.console&&window.console.log&&window.console.log(e)};t.disableBuzzer=function(){return t.allPlayersWhoBuzzed.length>0?!0:void 0},t.broadcastToAllPlayersInGame=function(){n.get("buzz")},t.enabledness=function(){return t.disableBuzzer()===!0?"buzzer-disabled":void 0},t.getFirstPlayerWhoBuzzedIn=function(){var e=Number.POSITIVE_INFINITY,n=null;t.allPlayersWhoBuzzed.length>1?_.each(t.allPlayersWhoBuzzed,function(o){var t=parseInt(o.last_buzz.slice(o.last_buzz.length-12));console.log(o.name+": "+t),e>t&&(e=t,n=o)}):n=t.allPlayersWhoBuzzed[0],t.firstPlayerWhoBuzzed=n}}])}(),function(){"use strict";angular.module("jeopardyApp").controller("jeopardyController",["$http","Jeopardy",function(e,n){function o(){n.init().then(function(){u.gameData=n.gameData,t()})}function t(){_.forEach(u.gameData.categories,function(e){e.questions=[];var n=100,o=1;_.forEach(u.gameData.questions,function(t){t.category_id===e._id&&(t.money=n*o,e.questions.push(t),o++)}),u.categories.push(e)}),console.log(u.categories)}var u=this;u.testing="hi hi hi",u.gameData=[],u.categories=[],o(),u.selectQuestion=function(e){u.selectedQuestion=e,n.selectQuestion(e)},u.toggleShowAnswer=function(){u.selectedQuestion.showAnswer=!u.selectedQuestion.showAnswer},u.returnToGameboard=function(){n.returnToGameboard()},u.buttonClick=function(){console.log("Hello")}}])}(),function(){"use strict";angular.module("jeopardyApp").service("Jeopardy",["$http",function(e){function n(){return e.get("get-categories")}var o=this;o.gameData=[],o.init=function(){return n().then(function(e){o.gameData=e.data},function(e){alert("There was an error retrieving game data."),console.log(e)})},o.selectQuestion=function(e){e.selected=!0,Custombox.open({target:"#modal",effect:"push"})},o.returnToGameboard=function(){Custombox.close()}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImplb3BhcmR5LmFwcC5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJidXp6ZXIvYnV6emVyLmNvbnRyb2xsZXIuanMiLCJqZW9wYXJkeS9qZW9wYXJkeS5jb250cm9sbGVyLmpzIiwiamVvcGFyZHkvamVvcGFyZHkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsInZtIiwidGhpcyIsInF1ZXN0aW9uVHlwZSIsInNldFF1ZXN0aW9uVHlwZSIsInR5cGUiLCJnZXRRdWVzdGlvblR5cGUiLCJxdWVzdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwicGFyc2UiLCJfIiwiaGFzIiwiJHNjb3BlIiwiJGh0dHAiLCIkdGltZW91dCIsImFsbFBsYXllcnNXaG9CdXp6ZWQiLCJmaXJzdFBsYXllcldob0J1enplZCIsInB1c2hlciIsIlB1c2hlciIsInB1c2hlckNoYW5uZWwiLCJzdWJzY3JpYmUiLCJiaW5kIiwiYnV6ekV2ZW50IiwicHVzaCIsInVzZXIiLCJkaXNhYmxlQnV6emVyIiwiJGFwcGx5IiwibWVzc2FnZSIsIndpbmRvdyIsImxlbmd0aCIsImJyb2FkY2FzdFRvQWxsUGxheWVyc0luR2FtZSIsImdldCIsImVuYWJsZWRuZXNzIiwiZ2V0Rmlyc3RQbGF5ZXJXaG9CdXp6ZWRJbiIsIm1pbiIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiZWFjaCIsInBsYXllciIsInRpbWVzdGFtcCIsInBhcnNlSW50IiwibGFzdF9idXp6Iiwic2xpY2UiLCJuYW1lIiwiSmVvcGFyZHkiLCJyZW5kZXJHYW1lYm9hcmQiLCJpbml0IiwidGhlbiIsImdhbWVEYXRhIiwicG9wdWxhdGVDYXRlZ29yaWVzIiwiZm9yRWFjaCIsImNhdGVnb3JpZXMiLCJjYXRlZ29yeSIsInF1ZXN0aW9ucyIsIm1vbmV5IiwiaSIsImNhdGVnb3J5X2lkIiwiX2lkIiwidGVzdGluZyIsInNlbGVjdFF1ZXN0aW9uIiwic2VsZWN0ZWRRdWVzdGlvbiIsInRvZ2dsZVNob3dBbnN3ZXIiLCJzaG93QW5zd2VyIiwicmV0dXJuVG9HYW1lYm9hcmQiLCJidXR0b25DbGljayIsInNlcnZpY2UiLCJnZXRHYW1lRGF0YSIsInJlcyIsImRhdGEiLCJlcnIiLCJhbGVydCIsInNlbGVjdGVkIiwiQ3VzdG9tYm94Iiwib3BlbiIsInRhcmdldCIsImVmZmVjdCIsImNsb3NlIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVBLFlBRUFBLFNBQUFDLE9BQUEsZUFBQSxlQ0pBLFdBRUEsWUFFQUQsU0FBQUMsT0FBQSxlQUNBQyxXQUFBLGtCQUFBLFdBRUEsR0FBQUMsR0FBQUMsSUFFQUQsR0FBQUUsYUFBQSxLQUVBRixFQUFBRyxnQkFBQSxTQUFBQyxHQUNBSixFQUFBRSxhQUFBRSxHQUdBSixFQUFBSyxnQkFBQSxTQUFBQyxHQUVBLE1BQUFOLEdBQUFFLGFBQ0FGLEVBQUFFLGNBR0FJLElBQ0FDLFFBQUFDLElBQUFGLEdBQ0FBLEVBQUFHLEtBQUFDLE1BQUFKLEdBQ0FLLEVBQUFDLElBQUFOLEVBQUEsWUFDQU4sRUFBQUUsYUFBQSxPQUNBUyxFQUFBQyxJQUFBTixFQUFBLFdBQ0FOLEVBQUFFLGFBQUEsVUFJQSxjQzlCQSxXQUVBLFlBRUFMLFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxvQkFBQSxTQUFBLFFBQUEsV0FBQSxTQUFBYyxFQUFBQyxFQUFBQyxHQUVBLEdBQUFmLEdBQUFDLElBQ0FELEdBQUFnQix1QkFDQWhCLEVBQUFpQixxQkFBQSxLQUdBakIsRUFBQWtCLE9BQUEsR0FBQUMsUUFBQSx3QkFDQW5CLEVBQUFvQixjQUFBcEIsRUFBQWtCLE9BQUFHLFVBQUEsa0JBRUFyQixFQUFBb0IsY0FBQUUsS0FBQSwrQkFBQSxTQUFBQyxHQUVBdkIsRUFBQWdCLG9CQUFBUSxLQUFBRCxFQUFBRSxNQUVBekIsRUFBQTBCLGdCQUNBYixFQUFBYyxXQUlBUixPQUFBWCxJQUFBLFNBQUFvQixHQUNBQyxPQUFBdEIsU0FBQXNCLE9BQUF0QixRQUFBQyxLQUNBcUIsT0FBQXRCLFFBQUFDLElBQUFvQixHQVNBNUIsR0FBQTBCLGNBQUEsV0FDQSxNQUFBMUIsR0FBQWdCLG9CQUFBYyxPQUFBLEdBQ0EsRUFEQSxRQUlBOUIsRUFBQStCLDRCQUFBLFdBQ0FqQixFQUFBa0IsSUFBQSxTQUlBaEMsRUFBQWlDLFlBQUEsV0FDQSxNQUFBakMsR0FBQTBCLG1CQUFBLEVBQ0Esa0JBREEsUUFLQTFCLEVBQUFrQywwQkFBQSxXQUNBLEdBQUFDLEdBQUFDLE9BQUFDLGtCQUVBcEIsRUFBQSxJQUVBakIsR0FBQWdCLG9CQUFBYyxPQUFBLEVBQ0FuQixFQUFBMkIsS0FBQXRDLEVBQUFnQixvQkFBQSxTQUFBdUIsR0FDQSxHQUFBQyxHQUFBQyxTQUFBRixFQUFBRyxVQUFBQyxNQUFBSixFQUFBRyxVQUFBWixPQUFBLElBQ0F2QixTQUFBQyxJQUFBK0IsRUFBQUssS0FBQSxLQUFBSixHQUNBTCxFQUFBSyxJQUNBTCxFQUFBSyxFQUNBdkIsRUFBQXNCLEtBSUF0QixFQUFBakIsRUFBQWdCLG9CQUFBLEdBR0FoQixFQUFBaUIscUJBQUFBLFNDckVBLFdBRUEsWUFFQXBCLFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxzQkFBQSxRQUFBLFdBQUEsU0FBQWUsRUFBQStCLEdBV0EsUUFBQUMsS0FDQUQsRUFBQUUsT0FDQUMsS0FBQSxXQUNBaEQsRUFBQWlELFNBQUFKLEVBQUFJLFNBQ0FDLE1BTUEsUUFBQUEsS0FFQXZDLEVBQUF3QyxRQUFBbkQsRUFBQWlELFNBQUFHLFdBQUEsU0FBQUMsR0FFQUEsRUFBQUMsWUFDQSxJQUFBQyxHQUFBLElBQ0FDLEVBQUEsQ0FFQTdDLEdBQUF3QyxRQUFBbkQsRUFBQWlELFNBQUFLLFVBQUEsU0FBQWhELEdBRUFBLEVBQUFtRCxjQUFBSixFQUFBSyxNQUdBcEQsRUFBQWlELE1BQUFBLEVBQUFDLEVBRUFILEVBQUFDLFVBQUE5QixLQUFBbEIsR0FDQWtELE9BSUF4RCxFQUFBb0QsV0FBQTVCLEtBQUE2QixLQUVBOUMsUUFBQUMsSUFBQVIsRUFBQW9ELFlBekNBLEdBQUFwRCxHQUFBQyxJQUVBRCxHQUFBMkQsUUFBQSxXQUVBM0QsRUFBQWlELFlBQ0FqRCxFQUFBb0QsY0FFQU4sSUFxQ0E5QyxFQUFBNEQsZUFBQSxTQUFBdEQsR0FDQU4sRUFBQTZELGlCQUFBdkQsRUFDQXVDLEVBQUFlLGVBQUF0RCxJQUdBTixFQUFBOEQsaUJBQUEsV0FDQTlELEVBQUE2RCxpQkFBQUUsWUFBQS9ELEVBQUE2RCxpQkFBQSxZQUdBN0QsRUFBQWdFLGtCQUFBLFdBQ0FuQixFQUFBbUIscUJBR0FoRSxFQUFBaUUsWUFBQSxXQUNBMUQsUUFBQUMsSUFBQSxnQkM5REEsV0FFQSxZQUVBWCxTQUFBQyxPQUFBLGVBQ0FvRSxRQUFBLFlBQUEsUUFBQSxTQUFBcEQsR0FpQkEsUUFBQXFELEtBQ0EsTUFBQXJELEdBQUFrQixJQUFBLGtCQWhCQSxHQUFBaEMsR0FBQUMsSUFFQUQsR0FBQWlELFlBRUFqRCxFQUFBK0MsS0FBQSxXQUNBLE1BQUFvQixLQUNBbkIsS0FBQSxTQUFBb0IsR0FDQXBFLEVBQUFpRCxTQUFBbUIsRUFBQUMsTUFFQSxTQUFBQyxHQUNBQyxNQUFBLDRDQUNBaEUsUUFBQUMsSUFBQThELE1BU0F0RSxFQUFBNEQsZUFBQSxTQUFBdEQsR0FDQUEsRUFBQWtFLFVBQUEsRUFFQUMsVUFBQUMsTUFDQUMsT0FBQSxTQUNBQyxPQUFBLFVBSUE1RSxFQUFBZ0Usa0JBQUEsV0FDQVMsVUFBQUkiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKClcclxue1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdqZW9wYXJkeUFwcCcsIFsnbmdUb3VjaCddKTtcclxuXHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2plb3BhcmR5QXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignYWRtaW5Db250cm9sbGVyJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZtLnF1ZXN0aW9uVHlwZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB2bS5zZXRRdWVzdGlvblR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLmdldFF1ZXN0aW9uVHlwZSA9IGZ1bmN0aW9uIChxdWVzdGlvbikge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2bS5xdWVzdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdm0ucXVlc3Rpb25UeXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChxdWVzdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHF1ZXN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbiA9IEpTT04ucGFyc2UocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmhhcyhxdWVzdGlvbiwgJ3F1ZXN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5oYXMocXVlc3Rpb24sICdpbWFnZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLnF1ZXN0aW9uVHlwZSA9ICdpbWFnZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dCc7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbn0oKSk7XHJcbiIsIlxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdidXp6ZXJDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2bS5hbGxQbGF5ZXJzV2hvQnV6emVkID0gW107XHJcbiAgICAgICAgICAgIHZtLmZpcnN0UGxheWVyV2hvQnV6emVkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2bS5wdXNoZXIgPSBuZXcgUHVzaGVyKCc0NzkyYzYyOTRkMTQwYWNmNzRiYScpO1xyXG4gICAgICAgICAgICB2bS5wdXNoZXJDaGFubmVsID0gdm0ucHVzaGVyLnN1YnNjcmliZSgnYnV6emVyLWNoYW5uZWwnKTtcclxuXHJcbiAgICAgICAgICAgIHZtLnB1c2hlckNoYW5uZWwuYmluZCgnQXBwXFxcXEV2ZW50c1xcXFxQbGF5ZXJIaXRCdXp6ZXInLCBmdW5jdGlvbiAoYnV6ekV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdm0uYWxsUGxheWVyc1dob0J1enplZC5wdXNoKGJ1enpFdmVudC51c2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2bS5kaXNhYmxlQnV6emVyKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRW5hYmxlIFB1c2hlciBsb2dzXHJcbiAgICAgICAgICAgIFB1c2hlci5sb2cgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgaG9zdCBjb250cm9sbGVyIHRoYXQgcmVzZXRzIGJ1dHRvbiBmb3IgYWxsIHBsYXllcnMgKHdoZW4gcGxheWVyIGFuc3dlcnMgaW5jb3JyZWN0bHksIGFuZCBldmVyeVxyXG4gICAgICAgICAgICAvLyAodG9kbyBjb250Li4uKSB0aW1lIGEgbmV3IHF1ZXN0aW9uIGlzIHNlbGVjdGVkLlxyXG4gICAgICAgICAgICB2YXIgcmVzZXRBbGxCdXp6ZXJzID0gZnVuY3Rpb24oKXt9O1xyXG5cclxuICAgICAgICAgICAgdm0uZGlzYWJsZUJ1enplciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2bS5hbGxQbGF5ZXJzV2hvQnV6emVkLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5icm9hZGNhc3RUb0FsbFBsYXllcnNJbkdhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJ2J1enonKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJldHVybnMgY3NzIGNsYXNzIGZvciBncmF5IGJ1enplciB0byBuZy1jbGFzc1xyXG4gICAgICAgICAgICB2bS5lbmFibGVkbmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2bS5kaXNhYmxlQnV6emVyKCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2J1enplci1kaXNhYmxlZCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5nZXRGaXJzdFBsYXllcldob0J1enplZEluID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHZtLmFsbFBsYXllcnNXaG9CdXp6ZWQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaCh2bS5hbGxQbGF5ZXJzV2hvQnV6emVkLCBmdW5jdGlvbiAocGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBwYXJzZUludChwbGF5ZXIubGFzdF9idXp6LnNsaWNlKHBsYXllci5sYXN0X2J1enoubGVuZ3RoIC0gMTIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGxheWVyLm5hbWUgKyAnOiAnICsgdGltZXN0YW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSB2bS5hbGxQbGF5ZXJzV2hvQnV6emVkWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZtLmZpcnN0UGxheWVyV2hvQnV6emVkID0gZmlyc3RQbGF5ZXJXaG9CdXp6ZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbn0oKSk7XHJcbiIsIlxyXG4oZnVuY3Rpb24oKVxyXG57XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2plb3BhcmR5QXBwJylcclxuICAgICAgICAuY29udHJvbGxlcignamVvcGFyZHlDb250cm9sbGVyJywgZnVuY3Rpb24oJGh0dHAsIEplb3BhcmR5KXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2bS50ZXN0aW5nID0gJ2hpIGhpIGhpJztcclxuXHJcbiAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gW107XHJcbiAgICAgICAgICAgIHZtLmNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHJlbmRlckdhbWVib2FyZCgpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyR2FtZWJvYXJkKCkge1xyXG4gICAgICAgICAgICAgICAgSmVvcGFyZHkuaW5pdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBKZW9wYXJkeS5nYW1lRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVDYXRlZ29yaWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE5lc3QgUXVlc3Rpb25zIGluc2lkZSBvZiB0aGVpciBhc3NvY2lhdGVkIGNhdGVnb3JpZXMgc28gdGhhdCB3ZSBoYXZlIGEgbW9yZSBpbnRlbGxpZ2libGUgb2JqZWN0IHRvXHJcbiAgICAgICAgICAgIC8vIHVzZSBpbiBvdXIgdmlldy5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcG9wdWxhdGVDYXRlZ29yaWVzKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCggdm0uZ2FtZURhdGEuY2F0ZWdvcmllcywgZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LnF1ZXN0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb25leSA9IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh2bS5nYW1lRGF0YS5xdWVzdGlvbnMsIGZ1bmN0aW9uIChxdWVzdGlvbikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXN0aW9uLmNhdGVnb3J5X2lkID09PSBjYXRlZ29yeS5faWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Fzc2lnbiBtb25ldGFyeSB2YWx1ZSB0byBlYWNoIHF1ZXN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbi5tb25leSA9IChtb25leSAqIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LnF1ZXN0aW9ucy5wdXNoKHF1ZXN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2bS5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2bS5jYXRlZ29yaWVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdm0uc2VsZWN0UXVlc3Rpb24gPSBmdW5jdGlvbiAocXVlc3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHZtLnNlbGVjdGVkUXVlc3Rpb24gPSBxdWVzdGlvbjtcclxuICAgICAgICAgICAgICAgIEplb3BhcmR5LnNlbGVjdFF1ZXN0aW9uKHF1ZXN0aW9uKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnRvZ2dsZVNob3dBbnN3ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zZWxlY3RlZFF1ZXN0aW9uLnNob3dBbnN3ZXIgPSAhKHZtLnNlbGVjdGVkUXVlc3Rpb24uc2hvd0Fuc3dlcik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5yZXR1cm5Ub0dhbWVib2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIEplb3BhcmR5LnJldHVyblRvR2FtZWJvYXJkKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5idXR0b25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIZWxsbycpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxufSgpKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBOZWlsIFN0cmFpbiBvbiA0LzI4LzIwMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2plb3BhcmR5QXBwJylcclxuICAgICAgICAuc2VydmljZSgnSmVvcGFyZHknLCBmdW5jdGlvbiAoJGh0dHApIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICB2bS5nYW1lRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdm0uaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRHYW1lRGF0YSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5nYW1lRGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnVGhlcmUgd2FzIGFuIGVycm9yIHJldHJpZXZpbmcgZ2FtZSBkYXRhLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRHYW1lRGF0YSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2dldC1jYXRlZ29yaWVzJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB2bS5zZWxlY3RRdWVzdGlvbiA9IGZ1bmN0aW9uIChxdWVzdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb24uc2VsZWN0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIEN1c3RvbWJveC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcjbW9kYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdDogJ3B1c2gnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJldHVyblRvR2FtZWJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgQ3VzdG9tYm94LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbn0oKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
