!function(){"use strict";angular.module("jeopardyApp",["ngTouch"])}(),function(){"use strict";angular.module("jeopardyApp").controller("buzzerController",["$scope","$http","$timeout",function(e,t,n){var o=this;o.allPlayersWhoBuzzed=[],o.firstPlayerWhoBuzzed=null,o.thisPlayer=null;var u=!0;o.pusher=new Pusher("4792c6294d140acf74ba"),o.pusherChannel=o.pusher.subscribe("buzzer-channel"),o.pusherChannel.bind("App\\Events\\PlayerHitBuzzer",function(t){u=!1,console.log(t.user.last_buzz),o.allPlayersWhoBuzzed.push(t.user),n(function(){1===o.allPlayersWhoBuzzed.length&&(o.firstPlayerWhoBuzzed=t.user),_.each(o.allPlayersWhoBuzzed,function(e){t.user.last_buzz<e.last_buzz&&(o.firstPlayerWhoBuzzed=t.user)}),e.$apply(),console.log(o.firstPlayerWhoBuzzed)},500)}),o.buttonDisabled=function(e){return o.thisPlayer=JSON.parse(e),u?void 0:o.allPlayersWhoBuzzed!==o.thisPlayer},o.broadcastToAllPlayersInGame=function(){t.get("buzz")},o.enabledness=function(e){return o.buttonDisabled(e)?"buzzer-disabled":void 0}}])}(),function(){"use strict";angular.module("jeopardyApp").controller("adminController",function(){var e=this;e.questionType=null,e.setQuestionType=function(t){e.questionType=t},e.getQuestionType=function(t){return e.questionType?e.questionType:(t&&(console.log(t),t=JSON.parse(t),_.has(t,"question")?e.questionType="text":_.has(t,"image")&&(e.questionType="image")),"text")}})}(),function(){"use strict";angular.module("jeopardyApp").controller("jeopardyController",["$http","Jeopardy",function(e,t){function n(){t.init().then(function(){u.gameData=t.gameData,o()})}function o(){_.forEach(u.gameData.categories,function(e){e.questions=[];var t=100,n=1;_.forEach(u.gameData.questions,function(o){o.category_id===e._id&&(o.money=t*n,e.questions.push(o),n++)}),u.categories.push(e)}),console.log(u.categories)}var u=this;u.testing="hi hi hi",u.gameData=[],u.categories=[],n(),u.selectQuestion=function(e){u.selectedQuestion=e,t.selectQuestion(e)},u.toggleShowAnswer=function(){u.selectedQuestion.showAnswer=!u.selectedQuestion.showAnswer},u.returnToGameboard=function(){t.returnToGameboard()},u.buttonClick=function(){console.log("Hello")}}])}(),function(){"use strict";angular.module("jeopardyApp").service("Jeopardy",["$http",function(e){function t(){return e.get("get-categories")}var n=this;n.gameData=[],n.init=function(){return t().then(function(e){n.gameData=e.data},function(e){alert("There was an error retrieving game data."),console.log(e)})},n.selectQuestion=function(e){e.selected=!0,Custombox.open({target:"#modal",effect:"push"})},n.returnToGameboard=function(){Custombox.close()}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImplb3BhcmR5LmFwcC5qcyIsImJ1enplci9idXp6ZXIuY29udHJvbGxlci5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJqZW9wYXJkeS9qZW9wYXJkeS5jb250cm9sbGVyLmpzIiwiamVvcGFyZHkvamVvcGFyZHkuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiJHRpbWVvdXQiLCJ2bSIsInRoaXMiLCJhbGxQbGF5ZXJzV2hvQnV6emVkIiwiZmlyc3RQbGF5ZXJXaG9CdXp6ZWQiLCJ0aGlzUGxheWVyIiwicmVzZXRBbGxCdXp6ZXJzIiwicHVzaGVyIiwiUHVzaGVyIiwicHVzaGVyQ2hhbm5lbCIsInN1YnNjcmliZSIsImJpbmQiLCJidXp6RXZlbnQiLCJjb25zb2xlIiwibG9nIiwidXNlciIsImxhc3RfYnV6eiIsInB1c2giLCJsZW5ndGgiLCJfIiwiZWFjaCIsInBsYXllciIsIiRhcHBseSIsImJ1dHRvbkRpc2FibGVkIiwiY3VycmVudFVzZXIiLCJKU09OIiwicGFyc2UiLCJicm9hZGNhc3RUb0FsbFBsYXllcnNJbkdhbWUiLCJnZXQiLCJlbmFibGVkbmVzcyIsInF1ZXN0aW9uVHlwZSIsInNldFF1ZXN0aW9uVHlwZSIsInR5cGUiLCJnZXRRdWVzdGlvblR5cGUiLCJxdWVzdGlvbiIsImhhcyIsIkplb3BhcmR5IiwicmVuZGVyR2FtZWJvYXJkIiwiaW5pdCIsInRoZW4iLCJnYW1lRGF0YSIsInBvcHVsYXRlQ2F0ZWdvcmllcyIsImZvckVhY2giLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnkiLCJxdWVzdGlvbnMiLCJtb25leSIsImkiLCJjYXRlZ29yeV9pZCIsIl9pZCIsInRlc3RpbmciLCJzZWxlY3RRdWVzdGlvbiIsInNlbGVjdGVkUXVlc3Rpb24iLCJ0b2dnbGVTaG93QW5zd2VyIiwic2hvd0Fuc3dlciIsInJldHVyblRvR2FtZWJvYXJkIiwiYnV0dG9uQ2xpY2siLCJzZXJ2aWNlIiwiZ2V0R2FtZURhdGEiLCJyZXMiLCJkYXRhIiwiZXJyIiwiYWxlcnQiLCJzZWxlY3RlZCIsIkN1c3RvbWJveCIsIm9wZW4iLCJ0YXJnZXQiLCJlZmZlY3QiLCJjbG9zZSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFQSxZQUVBQSxTQUFBQyxPQUFBLGVBQUEsZUNIQSxXQUVBLFlBRUFELFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxvQkFBQSxTQUFBLFFBQUEsV0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBLEdBQUFDLEdBQUFDLElBQ0FELEdBQUFFLHVCQUNBRixFQUFBRyxxQkFBQSxLQUVBSCxFQUFBSSxXQUFBLElBSUEsSUFBQUMsSUFBQSxDQUVBTCxHQUFBTSxPQUFBLEdBQUFDLFFBQUEsd0JBQ0FQLEVBQUFRLGNBQUFSLEVBQUFNLE9BQUFHLFVBQUEsa0JBRUFULEVBQUFRLGNBQUFFLEtBQUEsK0JBQUEsU0FBQUMsR0FFQU4sR0FBQSxFQUVBTyxRQUFBQyxJQUFBRixFQUFBRyxLQUFBQyxXQUVBZixFQUFBRSxvQkFBQWMsS0FBQUwsRUFBQUcsTUFFQWYsRUFBQSxXQUVBLElBQUFDLEVBQUFFLG9CQUFBZSxTQUNBakIsRUFBQUcscUJBQUFRLEVBQUFHLE1BRUFJLEVBQUFDLEtBQUFuQixFQUFBRSxvQkFBQSxTQUFBa0IsR0FDQVQsRUFBQUcsS0FBQUMsVUFBQUssRUFBQUwsWUFDQWYsRUFBQUcscUJBQUFRLEVBQUFHLFFBSUFqQixFQUFBd0IsU0FFQVQsUUFBQUMsSUFBQWIsRUFBQUcsdUJBRUEsT0FJQUgsRUFBQXNCLGVBQUEsU0FBQUMsR0FHQSxNQUZBdkIsR0FBQUksV0FBQW9CLEtBQUFDLE1BQUFGLEdBRUFsQixFQUFBLE9BQ0FMLEVBQUFFLHNCQUFBRixFQUFBSSxZQUlBSixFQUFBMEIsNEJBQUEsV0FDQTVCLEVBQUE2QixJQUFBLFNBR0EzQixFQUFBNEIsWUFBQSxTQUFBTCxHQUNBLE1BQUF2QixHQUFBc0IsZUFBQUMsR0FDQSxrQkFEQSxjQzdEQSxXQUVBLFlBRUE3QixTQUFBQyxPQUFBLGVBQ0FDLFdBQUEsa0JBQUEsV0FFQSxHQUFBSSxHQUFBQyxJQUVBRCxHQUFBNkIsYUFBQSxLQUVBN0IsRUFBQThCLGdCQUFBLFNBQUFDLEdBQ0EvQixFQUFBNkIsYUFBQUUsR0FHQS9CLEVBQUFnQyxnQkFBQSxTQUFBQyxHQUVBLE1BQUFqQyxHQUFBNkIsYUFDQTdCLEVBQUE2QixjQUdBSSxJQUNBckIsUUFBQUMsSUFBQW9CLEdBQ0FBLEVBQUFULEtBQUFDLE1BQUFRLEdBQ0FmLEVBQUFnQixJQUFBRCxFQUFBLFlBQ0FqQyxFQUFBNkIsYUFBQSxPQUNBWCxFQUFBZ0IsSUFBQUQsRUFBQSxXQUNBakMsRUFBQTZCLGFBQUEsVUFJQSxjQzlCQSxXQUVBLFlBRUFuQyxTQUFBQyxPQUFBLGVBQ0FDLFdBQUEsc0JBQUEsUUFBQSxXQUFBLFNBQUFFLEVBQUFxQyxHQVdBLFFBQUFDLEtBQ0FELEVBQUFFLE9BQ0FDLEtBQUEsV0FDQXRDLEVBQUF1QyxTQUFBSixFQUFBSSxTQUNBQyxNQU1BLFFBQUFBLEtBRUF0QixFQUFBdUIsUUFBQXpDLEVBQUF1QyxTQUFBRyxXQUFBLFNBQUFDLEdBRUFBLEVBQUFDLFlBQ0EsSUFBQUMsR0FBQSxJQUNBQyxFQUFBLENBRUE1QixHQUFBdUIsUUFBQXpDLEVBQUF1QyxTQUFBSyxVQUFBLFNBQUFYLEdBRUFBLEVBQUFjLGNBQUFKLEVBQUFLLE1BR0FmLEVBQUFZLE1BQUFBLEVBQUFDLEVBRUFILEVBQUFDLFVBQUE1QixLQUFBaUIsR0FDQWEsT0FJQTlDLEVBQUEwQyxXQUFBMUIsS0FBQTJCLEtBRUEvQixRQUFBQyxJQUFBYixFQUFBMEMsWUF6Q0EsR0FBQTFDLEdBQUFDLElBRUFELEdBQUFpRCxRQUFBLFdBRUFqRCxFQUFBdUMsWUFDQXZDLEVBQUEwQyxjQUVBTixJQXFDQXBDLEVBQUFrRCxlQUFBLFNBQUFqQixHQUNBakMsRUFBQW1ELGlCQUFBbEIsRUFDQUUsRUFBQWUsZUFBQWpCLElBR0FqQyxFQUFBb0QsaUJBQUEsV0FDQXBELEVBQUFtRCxpQkFBQUUsWUFBQXJELEVBQUFtRCxpQkFBQSxZQUdBbkQsRUFBQXNELGtCQUFBLFdBQ0FuQixFQUFBbUIscUJBR0F0RCxFQUFBdUQsWUFBQSxXQUNBM0MsUUFBQUMsSUFBQSxnQkM5REEsV0FFQSxZQUVBbkIsU0FBQUMsT0FBQSxlQUNBNkQsUUFBQSxZQUFBLFFBQUEsU0FBQTFELEdBaUJBLFFBQUEyRCxLQUNBLE1BQUEzRCxHQUFBNkIsSUFBQSxrQkFoQkEsR0FBQTNCLEdBQUFDLElBRUFELEdBQUF1QyxZQUVBdkMsRUFBQXFDLEtBQUEsV0FDQSxNQUFBb0IsS0FDQW5CLEtBQUEsU0FBQW9CLEdBQ0ExRCxFQUFBdUMsU0FBQW1CLEVBQUFDLE1BRUEsU0FBQUMsR0FDQUMsTUFBQSw0Q0FDQWpELFFBQUFDLElBQUErQyxNQVNBNUQsRUFBQWtELGVBQUEsU0FBQWpCLEdBQ0FBLEVBQUE2QixVQUFBLEVBRUFDLFVBQUFDLE1BQ0FDLE9BQUEsU0FDQUMsT0FBQSxVQUlBbEUsRUFBQXNELGtCQUFBLFdBQ0FTLFVBQUFJIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpXHJcbntcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnLCBbJ25nVG91Y2gnXSk7XHJcblxyXG59KCkpOyIsIlxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdidXp6ZXJDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2bS5hbGxQbGF5ZXJzV2hvQnV6emVkID0gW107XHJcbiAgICAgICAgICAgIHZtLmZpcnN0UGxheWVyV2hvQnV6emVkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHZtLnRoaXNQbGF5ZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBob3N0IGNvbnRyb2xsZXIgdGhhdCByZXNldHMgYnV0dG9uIGZvciBhbGwgcGxheWVycyAod2hlbiBwbGF5ZXIgYW5zd2VycyBpbmNvcnJlY3RseSwgYW5kIGV2ZXJ5XHJcbiAgICAgICAgICAgIC8vICh0b2RvIGNvbnQuLi4pIHRpbWUgYSBuZXcgcXVlc3Rpb24gaXMgc2VsZWN0ZWQuXHJcbiAgICAgICAgICAgIHZhciByZXNldEFsbEJ1enplcnMgPSB0cnVlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0ucHVzaGVyID0gbmV3IFB1c2hlcignNDc5MmM2Mjk0ZDE0MGFjZjc0YmEnKTtcclxuICAgICAgICAgICAgdm0ucHVzaGVyQ2hhbm5lbCA9IHZtLnB1c2hlci5zdWJzY3JpYmUoJ2J1enplci1jaGFubmVsJyk7XHJcblxyXG4gICAgICAgICAgICB2bS5wdXNoZXJDaGFubmVsLmJpbmQoJ0FwcFxcXFxFdmVudHNcXFxcUGxheWVySGl0QnV6emVyJywgZnVuY3Rpb24gKGJ1enpFdmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc2V0QWxsQnV6emVycyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJ1enpFdmVudC51c2VyLmxhc3RfYnV6eik7XHJcblxyXG4gICAgICAgICAgICAgICAgdm0uYWxsUGxheWVyc1dob0J1enplZC5wdXNoKGJ1enpFdmVudC51c2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2bS5hbGxQbGF5ZXJzV2hvQnV6emVkLmxlbmd0aCA9PT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSBidXp6RXZlbnQudXNlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHZtLmFsbFBsYXllcnNXaG9CdXp6ZWQsIGZ1bmN0aW9uIChwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1enpFdmVudC51c2VyLmxhc3RfYnV6eiA8IHBsYXllci5sYXN0X2J1enopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmZpcnN0UGxheWVyV2hvQnV6emVkID0gYnV6ekV2ZW50LnVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2bS5maXJzdFBsYXllcldob0J1enplZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdm0uYnV0dG9uRGlzYWJsZWQgPSBmdW5jdGlvbiAoY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHZtLnRoaXNQbGF5ZXIgPSBKU09OLnBhcnNlKGN1cnJlbnRVc2VyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICFyZXNldEFsbEJ1enplcnMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZtLmFsbFBsYXllcnNXaG9CdXp6ZWQgIT09IHZtLnRoaXNQbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2bS5icm9hZGNhc3RUb0FsbFBsYXllcnNJbkdhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJ2J1enonKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLmVuYWJsZWRuZXNzID0gZnVuY3Rpb24gKGN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodm0uYnV0dG9uRGlzYWJsZWQoY3VycmVudFVzZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdidXp6ZXItZGlzYWJsZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdhZG1pbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHZtLnNldFF1ZXN0aW9uVHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5xdWVzdGlvblR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0uZ2V0UXVlc3Rpb25UeXBlID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZtLnF1ZXN0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS5xdWVzdGlvblR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uID0gSlNPTi5wYXJzZShxdWVzdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaGFzKHF1ZXN0aW9uLCAncXVlc3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5xdWVzdGlvblR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfLmhhcyhxdWVzdGlvbiwgJ2ltYWdlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gJ2ltYWdlJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0JztcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxufSgpKTtcclxuIiwiXHJcbihmdW5jdGlvbigpXHJcbntcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdqZW9wYXJkeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkaHR0cCwgSmVvcGFyZHkpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZtLnRlc3RpbmcgPSAnaGkgaGkgaGknO1xyXG5cclxuICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBbXTtcclxuICAgICAgICAgICAgdm0uY2F0ZWdvcmllcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgcmVuZGVyR2FtZWJvYXJkKCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJHYW1lYm9hcmQoKSB7XHJcbiAgICAgICAgICAgICAgICBKZW9wYXJkeS5pbml0KClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbiggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5nYW1lRGF0YSA9IEplb3BhcmR5LmdhbWVEYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZUNhdGVnb3JpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTmVzdCBRdWVzdGlvbnMgaW5zaWRlIG9mIHRoZWlyIGFzc29jaWF0ZWQgY2F0ZWdvcmllcyBzbyB0aGF0IHdlIGhhdmUgYSBtb3JlIGludGVsbGlnaWJsZSBvYmplY3QgdG9cclxuICAgICAgICAgICAgLy8gdXNlIGluIG91ciB2aWV3LlxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwb3B1bGF0ZUNhdGVnb3JpZXMoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKCB2bS5nYW1lRGF0YS5jYXRlZ29yaWVzLCBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkucXVlc3Rpb25zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbmV5ID0gMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHZtLmdhbWVEYXRhLnF1ZXN0aW9ucywgZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb24uY2F0ZWdvcnlfaWQgPT09IGNhdGVnb3J5Ll9pZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQXNzaWduIG1vbmV0YXJ5IHZhbHVlIHRvIGVhY2ggcXVlc3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uLm1vbmV5ID0gKG1vbmV5ICogaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkucXVlc3Rpb25zLnB1c2gocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZtLmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmNhdGVnb3JpZXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2bS5zZWxlY3RRdWVzdGlvbiA9IGZ1bmN0aW9uIChxdWVzdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdm0uc2VsZWN0ZWRRdWVzdGlvbiA9IHF1ZXN0aW9uO1xyXG4gICAgICAgICAgICAgICAgSmVvcGFyZHkuc2VsZWN0UXVlc3Rpb24ocXVlc3Rpb24pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0udG9nZ2xlU2hvd0Fuc3dlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZtLnNlbGVjdGVkUXVlc3Rpb24uc2hvd0Fuc3dlciA9ICEodm0uc2VsZWN0ZWRRdWVzdGlvbi5zaG93QW5zd2VyKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLnJldHVyblRvR2FtZWJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgSmVvcGFyZHkucmV0dXJuVG9HYW1lYm9hcmQoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZtLmJ1dHRvbkNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0hlbGxvJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG59KCkpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE5laWwgU3RyYWluIG9uIDQvMjgvMjAxNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdKZW9wYXJkeScsIGZ1bmN0aW9uICgkaHR0cCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gW107XHJcblxyXG4gICAgICAgICAgICB2bS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEdhbWVEYXRhKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3IgcmV0cmlldmluZyBnYW1lIGRhdGEuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEdhbWVEYXRhKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnZ2V0LWNhdGVnb3JpZXMnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZtLnNlbGVjdFF1ZXN0aW9uID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBxdWVzdGlvbi5zZWxlY3RlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgQ3VzdG9tYm94Lm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJyNtb2RhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0OiAncHVzaCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdm0ucmV0dXJuVG9HYW1lYm9hcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBDdXN0b21ib3guY2xvc2UoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
