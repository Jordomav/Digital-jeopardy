!function(){"use strict";angular.module("jeopardyApp",["ngTouch"])}(),function(){"use strict";angular.module("jeopardyApp").controller("adminController",function(){var e=this;e.questionType=null,e.setQuestionType=function(n){e.questionType=n},e.getQuestionType=function(n){return e.questionType?e.questionType:(n&&(console.log(n),n=JSON.parse(n),_.has(n,"question")?e.questionType="text":_.has(n,"image")&&(e.questionType="image")),"text")}})}(),function(){"use strict";angular.module("jeopardyApp").controller("buzzerController",["$scope","$http","$timeout",function(e,n,o){var t=this;t.allPlayersWhoBuzzed=[],t.firstPlayerWhoBuzzed=null,t.thisPlayer=null,t.pusher=new Pusher("4792c6294d140acf74ba"),t.pusherChannel=t.pusher.subscribe("buzzer-channel"),t.pusherChannel.bind("App\\Events\\PlayerHitBuzzer",function(n){t.allPlayersWhoBuzzed.push(n.player),t.disableBuzzer(),e.$apply()}),Pusher.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.init=function(e){t.thisPlayer=JSON.parse(e)};t.disableBuzzer=function(){return t.allPlayersWhoBuzzed.length>0?!0:void 0},t.broadcastToAllPlayersInGame=function(){n.get("/buzz")},t.enabledness=function(){return t.disableBuzzer()===!0?"buzzer-disabled":void 0},t.getFirstPlayerWhoBuzzedIn=function(){t.firstPlayerWhoBuzzed=t.allPlayersWhoBuzzed[0]}}])}(),function(){"use strict";angular.module("jeopardyApp").controller("jeopardyController",["$http","Jeopardy",function(e,n){function o(e){n.init(e).then(function(){console.log(n.gameData),r.gameData=n.gameData.game,t()})}function t(){_.forEach(r.gameData.categories,function(e){var n=100,o=1;_.forEach(e.questions,function(e){e.money=n*o,o++}),r.categories.push(e)})}var r=this;r.gameData=[],r.categories=[],r.setGame=function(e){o(e)},r.selectQuestion=function(e){r.selectedQuestion=e,n.selectQuestion(e)},r.toggleShowAnswer=function(){r.selectedQuestion.showAnswer=!r.selectedQuestion.showAnswer},r.returnToGameboard=function(){n.returnToGameboard()},r.buttonClick=function(){console.log("Hello")}}])}(),function(){"use strict";angular.module("jeopardyApp").service("Jeopardy",["$http",function(e){function n(n){return console.log(n),e.get("/get-categories/"+n)}var o=this;o.gameData=[],o.init=function(e){return n(e).then(function(e){o.gameData=e.data},function(e){alert("There was an error retrieving game data."),console.log(e)})},o.selectQuestion=function(e){e.selected=!0,Custombox.open({target:"#modal",effect:"push"})},o.returnToGameboard=function(){Custombox.close()}}])}(),function(){"use strict";angular.module("jeopardyApp").controller("playersController",function(){var e=io(),n=this;n.users=[],e.on("test-channel:UserSignedUp",function(e){n.users.push(e.username)})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImplb3BhcmR5LmFwcC5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJidXp6ZXIvYnV6emVyLmNvbnRyb2xsZXIuanMiLCJqZW9wYXJkeS9qZW9wYXJkeS5jb250cm9sbGVyLmpzIiwiamVvcGFyZHkvamVvcGFyZHkuc2VydmljZS5qcyIsImplb3BhcmR5L3BsYXllcnMuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsInZtIiwidGhpcyIsInF1ZXN0aW9uVHlwZSIsInNldFF1ZXN0aW9uVHlwZSIsInR5cGUiLCJnZXRRdWVzdGlvblR5cGUiLCJxdWVzdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwicGFyc2UiLCJfIiwiaGFzIiwiJHNjb3BlIiwiJGh0dHAiLCIkdGltZW91dCIsImFsbFBsYXllcnNXaG9CdXp6ZWQiLCJmaXJzdFBsYXllcldob0J1enplZCIsInRoaXNQbGF5ZXIiLCJwdXNoZXIiLCJQdXNoZXIiLCJwdXNoZXJDaGFubmVsIiwic3Vic2NyaWJlIiwiYmluZCIsImJ1enpFdmVudCIsInB1c2giLCJwbGF5ZXIiLCJkaXNhYmxlQnV6emVyIiwiJGFwcGx5IiwibWVzc2FnZSIsIndpbmRvdyIsImluaXQiLCJsZW5ndGgiLCJicm9hZGNhc3RUb0FsbFBsYXllcnNJbkdhbWUiLCJnZXQiLCJlbmFibGVkbmVzcyIsImdldEZpcnN0UGxheWVyV2hvQnV6emVkSW4iLCJKZW9wYXJkeSIsInJlbmRlckdhbWVib2FyZCIsImlkIiwidGhlbiIsImdhbWVEYXRhIiwiZ2FtZSIsInBvcHVsYXRlQ2F0ZWdvcmllcyIsImZvckVhY2giLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnkiLCJtb25leSIsImkiLCJxdWVzdGlvbnMiLCJzZXRHYW1lIiwic2VsZWN0UXVlc3Rpb24iLCJzZWxlY3RlZFF1ZXN0aW9uIiwidG9nZ2xlU2hvd0Fuc3dlciIsInNob3dBbnN3ZXIiLCJyZXR1cm5Ub0dhbWVib2FyZCIsImJ1dHRvbkNsaWNrIiwic2VydmljZSIsImdldEdhbWVEYXRhIiwicmVzIiwiZGF0YSIsImVyciIsImFsZXJ0Iiwic2VsZWN0ZWQiLCJDdXN0b21ib3giLCJvcGVuIiwidGFyZ2V0IiwiZWZmZWN0IiwiY2xvc2UiLCJzb2NrZXQiLCJpbyIsInVzZXJzIiwib24iLCJ1c2VybmFtZSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFQSxZQUVBQSxTQUFBQyxPQUFBLGVBQUEsZUNKQSxXQUVBLFlBRUFELFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxrQkFBQSxXQUVBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFFLGFBQUEsS0FFQUYsRUFBQUcsZ0JBQUEsU0FBQUMsR0FDQUosRUFBQUUsYUFBQUUsR0FHQUosRUFBQUssZ0JBQUEsU0FBQUMsR0FFQSxNQUFBTixHQUFBRSxhQUNBRixFQUFBRSxjQUdBSSxJQUNBQyxRQUFBQyxJQUFBRixHQUNBQSxFQUFBRyxLQUFBQyxNQUFBSixHQUNBSyxFQUFBQyxJQUFBTixFQUFBLFlBQ0FOLEVBQUFFLGFBQUEsT0FDQVMsRUFBQUMsSUFBQU4sRUFBQSxXQUNBTixFQUFBRSxhQUFBLFVBSUEsY0M5QkEsV0FFQSxZQUVBTCxTQUFBQyxPQUFBLGVBQ0FDLFdBQUEsb0JBQUEsU0FBQSxRQUFBLFdBQUEsU0FBQWMsRUFBQUMsRUFBQUMsR0FFQSxHQUFBZixHQUFBQyxJQUNBRCxHQUFBZ0IsdUJBQ0FoQixFQUFBaUIscUJBQUEsS0FDQWpCLEVBQUFrQixXQUFBLEtBR0FsQixFQUFBbUIsT0FBQSxHQUFBQyxRQUFBLHdCQUNBcEIsRUFBQXFCLGNBQUFyQixFQUFBbUIsT0FBQUcsVUFBQSxrQkFFQXRCLEVBQUFxQixjQUFBRSxLQUFBLCtCQUFBLFNBQUFDLEdBRUF4QixFQUFBZ0Isb0JBQUFTLEtBQUFELEVBQUFFLFFBRUExQixFQUFBMkIsZ0JBQ0FkLEVBQUFlLFdBSUFSLE9BQUFaLElBQUEsU0FBQXFCLEdBQ0FDLE9BQUF2QixTQUFBdUIsT0FBQXZCLFFBQUFDLEtBQ0FzQixPQUFBdkIsUUFBQUMsSUFBQXFCLElBS0E3QixFQUFBK0IsS0FBQSxTQUFBYixHQUNBbEIsRUFBQWtCLFdBQUFULEtBQUFDLE1BQUFRLEdBT0FsQixHQUFBMkIsY0FBQSxXQUNBLE1BQUEzQixHQUFBZ0Isb0JBQUFnQixPQUFBLEdBQ0EsRUFEQSxRQUtBaEMsRUFBQWlDLDRCQUFBLFdBQ0FuQixFQUFBb0IsSUFBQSxVQUlBbEMsRUFBQW1DLFlBQUEsV0FDQSxNQUFBbkMsR0FBQTJCLG1CQUFBLEVBQ0Esa0JBREEsUUFPQTNCLEVBQUFvQywwQkFBQSxXQUVBcEMsRUFBQWlCLHFCQUFBakIsRUFBQWdCLG9CQUFBLFVDN0RBLFdBRUEsWUFFQW5CLFNBQUFDLE9BQUEsZUFDQUMsV0FBQSxzQkFBQSxRQUFBLFdBQUEsU0FBQWUsRUFBQXVCLEdBV0EsUUFBQUMsR0FBQUMsR0FDQUYsRUFBQU4sS0FBQVEsR0FDQUMsS0FBQSxXQUNBakMsUUFBQUMsSUFBQTZCLEVBQUFJLFVBQ0F6QyxFQUFBeUMsU0FBQUosRUFBQUksU0FBQUMsS0FDQUMsTUFNQSxRQUFBQSxLQUVBaEMsRUFBQWlDLFFBQUE1QyxFQUFBeUMsU0FBQUksV0FBQSxTQUFBQyxHQUVBLEdBQUFDLEdBQUEsSUFDQUMsRUFBQSxDQUVBckMsR0FBQWlDLFFBQUFFLEVBQUFHLFVBQUEsU0FBQTNDLEdBR0FBLEVBQUF5QyxNQUFBQSxFQUFBQyxFQUNBQSxNQUdBaEQsRUFBQTZDLFdBQUFwQixLQUFBcUIsS0FsQ0EsR0FBQTlDLEdBQUFDLElBRUFELEdBQUF5QyxZQUNBekMsRUFBQTZDLGNBRUE3QyxFQUFBa0QsUUFBQSxTQUFBWCxHQUNBRCxFQUFBQyxJQWdDQXZDLEVBQUFtRCxlQUFBLFNBQUE3QyxHQUNBTixFQUFBb0QsaUJBQUE5QyxFQUNBK0IsRUFBQWMsZUFBQTdDLElBR0FOLEVBQUFxRCxpQkFBQSxXQUNBckQsRUFBQW9ELGlCQUFBRSxZQUFBdEQsRUFBQW9ELGlCQUFBLFlBR0FwRCxFQUFBdUQsa0JBQUEsV0FDQWxCLEVBQUFrQixxQkFHQXZELEVBQUF3RCxZQUFBLFdBQ0FqRCxRQUFBQyxJQUFBLGdCQ3hEQSxXQUVBLFlBRUFYLFNBQUFDLE9BQUEsZUFDQTJELFFBQUEsWUFBQSxRQUFBLFNBQUEzQyxHQWlCQSxRQUFBNEMsR0FBQW5CLEdBRUEsTUFEQWhDLFNBQUFDLElBQUErQixHQUNBekIsRUFBQW9CLElBQUEsbUJBQUFLLEdBakJBLEdBQUF2QyxHQUFBQyxJQUVBRCxHQUFBeUMsWUFFQXpDLEVBQUErQixLQUFBLFNBQUFRLEdBQ0EsTUFBQW1CLEdBQUFuQixHQUNBQyxLQUFBLFNBQUFtQixHQUNBM0QsRUFBQXlDLFNBQUFrQixFQUFBQyxNQUVBLFNBQUFDLEdBQ0FDLE1BQUEsNENBQ0F2RCxRQUFBQyxJQUFBcUQsTUFVQTdELEVBQUFtRCxlQUFBLFNBQUE3QyxHQUNBQSxFQUFBeUQsVUFBQSxFQUVBQyxVQUFBQyxNQUNBQyxPQUFBLFNBQ0FDLE9BQUEsVUFJQW5FLEVBQUF1RCxrQkFBQSxXQUNBUyxVQUFBSSxlQzFDQSxXQUVBLFlBRUF2RSxTQUFBQyxPQUFBLGVBQ0FDLFdBQUEsb0JBQUEsV0FFQSxHQUFBc0UsR0FBQUMsS0FFQXRFLEVBQUFDLElBRUFELEdBQUF1RSxTQUVBRixFQUFBRyxHQUFBLDRCQUFBLFNBQUFaLEdBQ0E1RCxFQUFBdUUsTUFBQTlDLEtBQUFtQyxFQUFBYSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKVxue1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdqZW9wYXJkeUFwcCcsIFsnbmdUb3VjaCddKTtcblxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2plb3BhcmR5QXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2FkbWluQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gbnVsbDtcblxuICAgICAgICAgICAgdm0uc2V0UXVlc3Rpb25UeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICB2bS5xdWVzdGlvblR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdm0uZ2V0UXVlc3Rpb25UeXBlID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodm0ucXVlc3Rpb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS5xdWVzdGlvblR5cGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb24gPSBKU09OLnBhcnNlKHF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaGFzKHF1ZXN0aW9uLCAncXVlc3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gJ3RleHQnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF8uaGFzKHF1ZXN0aW9uLCAnaW1hZ2UnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucXVlc3Rpb25UeXBlID0gJ2ltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dCc7XG5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG5cbn0oKSk7XG4iLCJcbihmdW5jdGlvbiAoKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnamVvcGFyZHlBcHAnKVxuICAgICAgICAuY29udHJvbGxlcignYnV6emVyQ29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkdGltZW91dCkge1xuXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICAgICAgdm0uYWxsUGxheWVyc1dob0J1enplZCA9IFtdO1xuICAgICAgICAgICAgdm0uZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSBudWxsO1xuICAgICAgICAgICAgdm0udGhpc1BsYXllciA9IG51bGw7XG5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdm0ucHVzaGVyID0gbmV3IFB1c2hlcignNDc5MmM2Mjk0ZDE0MGFjZjc0YmEnKTtcbiAgICAgICAgICAgIHZtLnB1c2hlckNoYW5uZWwgPSB2bS5wdXNoZXIuc3Vic2NyaWJlKCdidXp6ZXItY2hhbm5lbCcpO1xuXG4gICAgICAgICAgICB2bS5wdXNoZXJDaGFubmVsLmJpbmQoJ0FwcFxcXFxFdmVudHNcXFxcUGxheWVySGl0QnV6emVyJywgZnVuY3Rpb24gKGJ1enpFdmVudCkge1xuXG4gICAgICAgICAgICAgICAgdm0uYWxsUGxheWVyc1dob0J1enplZC5wdXNoKGJ1enpFdmVudC5wbGF5ZXIpO1xuXG4gICAgICAgICAgICAgICAgdm0uZGlzYWJsZUJ1enplcigpO1xuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBFbmFibGUgUHVzaGVyIGxvZ3NcbiAgICAgICAgICAgIFB1c2hlci5sb2cgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZykge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB2bS5pbml0ID0gZnVuY3Rpb24gKHRoaXNQbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICB2bS50aGlzUGxheWVyID0gSlNPTi5wYXJzZSh0aGlzUGxheWVyKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgaG9zdCBjb250cm9sbGVyIHRoYXQgcmVzZXRzIGJ1dHRvbiBmb3IgYWxsIHBsYXllcnMgKHdoZW4gcGxheWVyIGFuc3dlcnMgaW5jb3JyZWN0bHksIGFuZCBldmVyeVxuICAgICAgICAgICAgLy8gKHRvZG8gY29udC4uLikgdGltZSBhIG5ldyBxdWVzdGlvbiBpcyBzZWxlY3RlZC5cbiAgICAgICAgICAgIHZhciByZXNldEFsbEJ1enplcnMgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgICAgICAgICAgdm0uZGlzYWJsZUJ1enplciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodm0uYWxsUGxheWVyc1dob0J1enplZC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gYnJvYWRjYXN0IHRoaXMgZm9yIHRoZSBzcGVjaWZpYyBnYW1lIHRoZSBwbGF5ZXIgaXMgYSBwYXJ0IG9mLlxuICAgICAgICAgICAgdm0uYnJvYWRjYXN0VG9BbGxQbGF5ZXJzSW5HYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRodHRwLmdldCgnL2J1enonKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFJldHVybnMgY3NzIGNsYXNzIGZvciBncmF5IGJ1enplciB0byBuZy1jbGFzc1xuICAgICAgICAgICAgdm0uZW5hYmxlZG5lc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZtLmRpc2FibGVCdXp6ZXIoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2J1enplci1kaXNhYmxlZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gVE9ETzogcHVzaGVyIHNvbWV0aW1lcyByZWNlaXZlcyBjbG9zZSBldmVudHMgb3V0IG9mIHNlcXVlbmNlLiBGaWd1cmUgb3V0IGhvdyB0byBoYW5kbGUgdGhpcy5cbiAgICAgICAgICAgIC8vICh0b2RvIGNvbnQuLi4pIEFsc28gY2xlYW4gdGhpcyBjcmFwIHVwLlxuICAgICAgICAgICAgdm0uZ2V0Rmlyc3RQbGF5ZXJXaG9CdXp6ZWRJbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZtLmZpcnN0UGxheWVyV2hvQnV6emVkID0gdm0uYWxsUGxheWVyc1dob0J1enplZFswXTtcblxuICAgICAgICAgICAgICAgIC8vIHZhciBtaW4gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gaWYodm0uYWxsUGxheWVyc1dob0J1enplZC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGZpcnN0UGxheWVyV2hvQnV6emVkID0gdm0uYWxsUGxheWVyc1dob0J1enplZFswXTtcblxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBfLmVhY2godm0uYWxsUGxheWVyc1dob0J1enplZCwgZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgdmFyIHRpbWVzdGFtcCA9IHBhcnNlSW50KHBsYXllci5sYXN0X2J1enouc2xpY2UocGxheWVyLmxhc3RfYnV6ei5sZW5ndGggLSAxMikpO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgY29uc29sZS5sb2cocGxheWVyLm5hbWUgKyAnOiAnICsgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIGlmICh0aW1lc3RhbXAgPCBtaW4pIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICBtaW4gPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICAgICAgZmlyc3RQbGF5ZXJXaG9CdXp6ZWQgPSBwbGF5ZXI7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGZpcnN0UGxheWVyV2hvQnV6emVkID0gdm0uYWxsUGxheWVyc1dob0J1enplZFswXTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyB2bS5maXJzdFBsYXllcldob0J1enplZCA9IGZpcnN0UGxheWVyV2hvQnV6emVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG59KCkpO1xuIiwiXG4oZnVuY3Rpb24oKVxue1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdqZW9wYXJkeUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdqZW9wYXJkeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkaHR0cCwgSmVvcGFyZHkpe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgICAgICB2bS5nYW1lRGF0YSA9IFtdO1xuICAgICAgICAgICAgdm0uY2F0ZWdvcmllcyA9IFtdO1xuXG4gICAgICAgICAgICB2bS5zZXRHYW1lID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyR2FtZWJvYXJkKGlkKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbmRlckdhbWVib2FyZChpZCkge1xuICAgICAgICAgICAgICAgIEplb3BhcmR5LmluaXQoaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKZW9wYXJkeS5nYW1lRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5nYW1lRGF0YSA9IEplb3BhcmR5LmdhbWVEYXRhLmdhbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZUNhdGVnb3JpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5lc3QgUXVlc3Rpb25zIGluc2lkZSBvZiB0aGVpciBhc3NvY2lhdGVkIGNhdGVnb3JpZXMgc28gdGhhdCB3ZSBoYXZlIGEgbW9yZSBpbnRlbGxpZ2libGUgb2JqZWN0IHRvXG4gICAgICAgICAgICAvLyB1c2UgaW4gb3VyIHZpZXcuXG4gICAgICAgICAgICBmdW5jdGlvbiBwb3B1bGF0ZUNhdGVnb3JpZXMoKSB7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2godm0uZ2FtZURhdGEuY2F0ZWdvcmllcywgZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbmV5ID0gMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGNhdGVnb3J5LnF1ZXN0aW9ucywgZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQXNzaWduIG1vbmV0YXJ5IHZhbHVlIHRvIGVhY2ggcXVlc3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uLm1vbmV5ID0gKG1vbmV5ICogaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZtLmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZtLnNlbGVjdFF1ZXN0aW9uID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uc2VsZWN0ZWRRdWVzdGlvbiA9IHF1ZXN0aW9uO1xuICAgICAgICAgICAgICAgIEplb3BhcmR5LnNlbGVjdFF1ZXN0aW9uKHF1ZXN0aW9uKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZtLnRvZ2dsZVNob3dBbnN3ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdm0uc2VsZWN0ZWRRdWVzdGlvbi5zaG93QW5zd2VyID0gISh2bS5zZWxlY3RlZFF1ZXN0aW9uLnNob3dBbnN3ZXIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdm0ucmV0dXJuVG9HYW1lYm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgSmVvcGFyZHkucmV0dXJuVG9HYW1lYm9hcmQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZtLmJ1dHRvbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIZWxsbycpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbn0oKSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IE5laWwgU3RyYWluIG9uIDQvMjgvMjAxNi5cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2plb3BhcmR5QXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ0plb3BhcmR5JywgZnVuY3Rpb24gKCRodHRwKSB7XG5cbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gW107XG5cbiAgICAgICAgICAgIHZtLmluaXQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0R2FtZURhdGEoaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdhbWVEYXRhID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3IgcmV0cmlldmluZyBnYW1lIGRhdGEuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0R2FtZURhdGEoaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2dldC1jYXRlZ29yaWVzLycraWQpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHZtLnNlbGVjdFF1ZXN0aW9uID0gZnVuY3Rpb24gKHF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcXVlc3Rpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgQ3VzdG9tYm94Lm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcjbW9kYWwnLFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdwdXNoJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdm0ucmV0dXJuVG9HYW1lYm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgQ3VzdG9tYm94LmNsb3NlKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0pO1xuXG5cbn0oKSk7XG4iLCIoZnVuY3Rpb24oKVxue1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdqZW9wYXJkeUFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdwbGF5ZXJzQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHNvY2tldCA9IGlvKCk7XG5cbiAgICAgICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZtLnVzZXJzID0gW107XG5cbiAgICAgICAgICAgIHNvY2tldC5vbigndGVzdC1jaGFubmVsOlVzZXJTaWduZWRVcCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2bS51c2Vycy5wdXNoKGRhdGEudXNlcm5hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbn0pO1xufSgpKTtcblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
